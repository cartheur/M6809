<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<!-- saved from url=(0034)https://kswichit.net/6809/6809.htm -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
   <meta name="GENERATOR" content="Mozilla/4.73 [en] (Windows NT 5.0; I) [Netscape]">
   <meta name="Author" content="Wichit Sirichote">
   <title>6809 Microprocessor Kit 2017</title>
   
   <meta name="GENERATOR" content="LibreOffice 4.1.3.2 (Windows)">
   <style type="text/css">
	<!--
		@page { margin: 0.79in }
		P { margin-bottom: 0.1in; line-height: 120% }
		A:link { so-language: zxx }
.style1 {font-family: "Times New Roman", Times, serif}
.style3 {font-family: "Times New Roman", Times, serif; font-weight: bold; }
.style6 {color: #FF0000}
.style8 {font-family: "Times New Roman", Times, serif; font-size: x-large; font-weight: bold; }
.style11 {color: #0000FF}
.style13 {color: #333333}
.style14 {font-size: small; font-family: "Times New Roman", Times, serif;}
	-->
	</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#FF0000" alink="#999999" dir="LTR" lang="en-US"> <blockquote><strong><font face="Times New Roman, Times, serif"><font color="#333366"><font size="+4">6809 Microprocessor Kit</font></font></font></strong>
  <p><span style="font-family: &#39;Times New Roman&#39;, Times, serif;"><span style="font-size: medium;">Wichit Sirichote, wichit.sirichote@gmail.com</span></span> </p>
  <p><span style="font-family: &#39;Times New Roman&#39;, Times, serif;">Build a microcomputer training kit with the Motorola 6809 CPU. <span class="style11">Updated monitor version3, User Manual and Programming book.!</span> </span> </p>
  <hr width="100%">
  <p class="style1">I got suggestion from Didier to design the trainer kit with 6809 or 6309 microprocessor. So I spent my free time design this kit. The kit uses Motorola 68B09 as the CPU.  I added the UART chip, 6850 ACIA. The circuit is simple and use small number of components. All decoder logics are placed in PLD chip. This makes the circuit is very easy to build. I found cc09 c compiler for 6809. The monitor was developed using c and assembly code. The main clock frequency is 4.9152MHz. UART chip uses E clock, 4.9152MHz/4 as the TXD/RXD clock. The prescaler is 64, so the UART will produce 19,200 bit/s rate. The 6809 has long branch using 16 bit offset. One of the monitor key provides 16-bit HEX calculator. Students can use it for finding the 8-bit or 16-bit offset. For low level coding, we can use hex key to enter and test the program. For c programming, we can use UART for S19 file downloading easily.</p>
  <table border="0" width="407">
    <tbody>
      <tr>
        <td width="800"><a href="https://kswichit.net/6809/6809v1-1.jpg"><img width="800" height="829" border="0" src="./6x09 Kit_files/6809v1-1s.jpg"></a></td> 
      </tr>
      <tr>
        <td height="18"><b><span style="font-family: Arial, Helvetica;"><span style="color: rgb(0, 0, 153);"><span style="font-size: medium;">Figure
1: Motorola 6809 Microprocessor kit 2017 </span></span></span></b></td> 
      </tr>
    </tbody>
  </table>
  <p> <span class="style1"><strong>Hardware descriptions:</strong> <br><br>  U5 is the Motorola 68B09 CPU. The 4.9152MHz is generated by onchip oscillator with internal frequency 1.228MHz for CPU operations. NMI, HALT, IRQ, FIRQ are pull-up to logic 1 with R2. Only E and R/W and A0,A1, A10-A15 are used for memory decoding. </span> </p>
  <p class="style1">U1 is 32kB EPROM, 27C256. The address space for EPROM is decoded at 0xC000-0xFFFF.</p>
  <p class="style1"> U2 is 32kB static RAM, 62256. The RAM space is located at 0x0000-0x7FFF. Zero page is located at 0x0000-0x00FF. User program can be tested from address 0x0200. <br><br>    U4, memory and I/O spaces decoder chip is made with GAL16V8D. It provides chip selected signals for memory and I/O chips. </p>
  <p class="style1">U3, the 20-pin 89C2051 microcontroller chip produces 10ms tick. SW1 selects between 10ms tick or manual IRQ button.</p>
  <p class="style1">U6 is 6850 ACIA, UART. The shift clock is derived from E clock, 1228800Hz. Internal prescaler is 64. Thus the bit rate will be 19200 bit/s. </p>
  <p class="style1">U12, 74HC541 is 8-bit input port (PORT0). Six bits, PA0-PA5 are input signals of the row keypad.</p>
  <p class="style1"> U10, 74HC573 is 8-bit output port (PORT2). The 8-bit output drives the 7-segment LED directly. No current limit resistor. U11 (PORT1) drives 6-digit common cathode pin. The brightness is controlled by software controlled PWM. PC7 is speaker output for beep signal.</p>
  <p class="style1">U13, 74HC573 is 8-bit output port for 8-bit binary number display. D13 lifts the forward biasing for proper brightness. JR1 is 16-pin socket for text LCD interface. U14, HIN232 converts TTL level to RS232 level.</p>
  <p class="style1">Q2, KIA7042 is reset chip for power brownout. &nbsp;
  </p>
  <table border="0" width="519">
    <tbody>
      <tr>
        <td width="513"><a href="https://kswichit.net/6809/schematic6809.pdf"><img width="522" height="337" border="0" src="./6x09 Kit_files/schematic.png"></a></td> 
      </tr>
      <tr>
        <td height="30"><b><span style="font-family: Arial, Helvetica;"><span style="color: rgb(0, 0, 153);"><span style="font-size: medium;">Figure
3: Hardware schematic (click to enlarge) </span></span></span></b></td> 
      </tr>
    </tbody>
  </table>
  <p><span class="style1"><strong>Hardware Features:<br></strong><br>  -CPU: Motorola 68B09, 8-bit Microprocessor @1.2288MHz clock<br>  -Memory: 32kB RAM, 16kB EPROM<br>  -Memory and I/O Decoder chip: Programmable Logic Device GAL16V8D<br>  -Display: high brightness 6-digit 7-segment LED<br>  -Keyboard: 36 keys<br>  -RS232 port: 6850 ACIA 19200 bit/s 8n1<br>  -Debugging LED: 8-bit GPIO1 LED at location $8000<br>  -Tick: 10ms tick produced by 89C2051 for time trigger experiment<br>  -Text LCD interface: direct CPU bus interface text LCD<br>  -Brownout reset: KIA7042 reset chip for power brownout reset<br>  -Expansion header: 40-pin header</span></p></blockquote> <blockquote> 
  <p><span class="style1">     Monitor program was developed using c and assembly language. Source code was compiled with cc09, c compiler for 6809 CPU. The source code is available for customizing your own monitor. </span> </p>
  <p class="style3">The monitor program features:
  </p>
  <p class="style1">-Simple hex code entering<br>    -Insert and Delete byte<br>    -User registers: A, B, X, Y, S, U, DP Condition code registers for storing CPU status after -program execution<br>    -HEX calculator for offset  calculation<br>    -Copy block of memory<br>    -Motorola s-record S19 downloading<br>    -Memory dump<br>    -Beep ON/OFF<br>    -TEST 10ms 
  
  </p>
  <p class="style1">The monitor program will be updated and available for testing at the download links. 
  </p>
  <p class="style1"><strong>Keyboard layout:</strong> Making key layout sticker is simply done by printing the<a href="https://kswichit.net/6809/key6809.svg"> SVG</a> file to sticker paper.
    </p>
  <table border="0" width="351">
    <tbody>
      <tr>
        <td width="345"><pre><a href="https://kswichit.net/6809/key6809.svg"><img width="915" height="376" border="0" src="./6x09 Kit_files/key.png"></a></pre> </td> 
      </tr>
      <tr>
        <td height="30"><b><span style="font-family: Arial, Helvetica;"><span style="color: rgb(0, 0, 153);"><span style="font-size: medium;">Figure 6: Keyboard layout.&nbsp;</span></span></span></b></td> 
      </tr>
    </tbody>
  </table>
  <p class="style1">Example of test code</p> <pre><img width="466" height="325" border="1" src="./6x09 Kit_files/led1.png"></pre> 
  <p class="style1">Simple program that writes accumulator content to gpio1 LED at $8000. It will show 8-bit binary counting! </p> 
  <p class="style1">Delay1 is small delay subroutine that uses X register. We can enter the hex code into memory and test run directly. </p> 
  <p class="style1">Can you change speed faster? how? </p> 
  <p class="style1">Another example of using 10ms tick generator for counting binary at 1Hz rate. Change SW1 to 10ms tick. </p> 
  <p class="style1"><img width="730" height="525" border="1" src="./6x09 Kit_files/tick.png"></p> 
  <p class="style1">The IRQ vector in ROM is pointed to new location in RAM at $7FF0. Students can modify where to put IRQ service routine. Above example uses location $6000 for IRQ service. The main code then inserts JMP to IRQ service instruction, 7E 60 00 to location 7FF0. Then clear I flag and wait for interrupt.</p> 
  <p class="style1">The IRQ service uses location 0 for tick counting. When it reaches 100, clear it and increment location 1. We can see 1Hz rate counting of location 1 by sending it to gpio1 LED at location 8000. </p> 
  <p class="style1">Can you change from 1Hz to 10Hz counting rate, how? </p> 
  <p class="style1"><img width="669" height="346" src="./6x09 Kit_files/terminal1.png"></p> 
  <p class="style1">Example of using Tera Terminal with key DUMP.</p> 
  <p><img width="669" height="346" src="./6x09 Kit_files/terminal2.png"></p> 
  <p class="style3">S-record  file transfer with 1ms character delay setting. </p> 
  <p><img width="800" height="826" src="./6x09 Kit_files/6809v1-2s.jpg"></p> 
  <p><b><span style="font-family: Arial, Helvetica;"><span style="color: rgb(0, 0, 153);"><span style="font-size: medium;">Figure 7: With Big letter LCD.&nbsp;</span></span></span></b></p> 
  <p>&nbsp;</p>
  <table width="605" border="0" bgcolor="#FFFFFF">
    <tbody>
      <tr>
        <td width="599" bgcolor="#CCCCCC">
          <p class="style1"><strong>PARTS LIST</strong> <span style="font-size: small;"><b> <br><br>        Semiconductors<br><br></b></span>U1 27C256, 32kB Eprom <br>        U2 HM62256B, 32kB SRAM <br>         U3 AT89C2051, 8-bit microcontroller<br>         U4 GAL16V8D, PLD <br>         U5 Motorola 68B09, 8-bit microprocessor <br>         U6 Motorola 6850, ACIA chip<br>         U7 7805, voltage regulator<br>         U9,U8 LTC-4727, 7-segment display <br>         U10,U11,U13 74HC573<br>         U12 74HC541<br>         U14 HIN232, RS232 converterQ1 BC557<br>        Q2 KIA7045<br>        Q3 BC557 D4 1N4007<br>        D13 1N5227A<br>        D14 1N4733A          D1,D5,D6,D7,D8,D9,D10, LED<br>D11,D12<br> D3 POWER LED   <span style="font-size: small;"><strong><br><br> Resistors (all resistors are 1/8W +/-5%)</strong> </span> <br><br> R1 680<br>        R2 RESISTOR SIP 9<br>         R3 100<br>         R13,R4 10k<br>         R6,R5 1k<br>         R9,R7 4.7k<br>         R11,R8 10k RESISTOR SIP 9<br>        R12,R10 10 <span style="font-size: small;"><strong><br><br>        Capacitors</strong> </span> <br><br>        C1,C4,C5,C15,C18,C19,C20 10uF<br>        C3,C2 27pF<br>         C6 10uF 16V<br>         C7 1000uF25V<br>         C8,C9,C10,C11,C12 0.1uF<br>         C13,C14 0.1uF <br>         C21,C16 100nF<br>        C17 10uF 10V  <span style="font-size: small;"><strong><br><br>        Additional parts</strong> </span> <br><br>        JP1 HEADER 20X2<br>        JR1 CONN RECT 16<br>        J1 DC Input<br>         J2 CON3<br>         J3 CON4A<br>         LS1 SPEAKERSW1 ESP switch<br>        SW2 IRQ<br>         SW3 RESET<br>         SW4 FIRQ<br>         SW5 NMI<br>         S1,S2,S3,S4,S5,S6,S7,S8, SW PUSHBUTTON<br>S9,S10,S11,S12,S13,S14,<br>S15,S16,S17,S18,S19,S20,<br>S21,S22,S23,S24,S25,S26,<br>S27,S28,S29,S30,S31,S32<br> TP1,TP2,TP3 TEST POINT<br> TP4 +5V<br> TP5 GND<br> VB1 SUB-D 9, Male (cross cable)<br> Y1 4.9152MHz XTAL <br><span style="font-size: small;">PCB double side plate through hole<br>        display filter sheet, Amber color <br>        Keyboard sticker printable SVG file</span> </p> 
          <p align="LEFT" style="margin-bottom: 0in; font-style: normal; line-height: 100%; background: transparent;">&nbsp;</p> </td> 
      </tr>
      <tr>
        <td height="30">
          <p class="style14">Kit is available on ebay. More information please contact <a href="mailto:wichit.sirichote@gmail.com">Wichit Sirichote</a> </p></td> 
      </tr>
    </tbody>
  </table>
  <p><span class="style1"><b>Download</b> <a href="https://kswichit.net/6809/schematic6809.pdf">Schematic</a>,<a href="https://kswichit.net/6809/v2cc09.rar"> Monitor source code</a> , <a href="https://kswichit.net/6809/monitorlist.pdf">Monitor listing</a>, <a href="https://kswichit.net/6809/pld6809.rar">PLD files</a>, <a href="https://kswichit.net/6809/tick09.rar">AT89C2051 HEX file</a>,
      <a href="https://kswichit.net/6809/key6809.svg">Keypad SVG file</a> ,<a href="https://kswichit.net/6809/quickstart.pdf"> Quick start </a><br>
      <br>
      <a href="https://kswichit.net/6809/programmingbook.pdf"> Programming Book for 6809 Kit</a> rev 1.2 March 2018, 
      <br>
      <a href="https://kswichit.net/6809/6809usermanual.pdf"><br>
      6809 Kit User's Manual</a> rev 1 April 2020, <a href="https://kswichit.net/6809/6809tools.zip">Tools and assembly source code</a> <br>
  <br>
      <a href="https://kswichit.net/6809/programmingbook2.pdf">Programming Book for 6809 Kit Rev.2.0</a> April, 2020</span> updated monitor call adress with latest <a href="https://kswichit.net/6809/version3.zip">monitor program</a>.</p>
  <p>&nbsp;</p>
  <p><span class="style8"><span class="style13">What's New?</span></span><strong><br>
    <br>
    </strong>July, 2023, Note on experimenting the Hitachi 6309 CPU by Mendel Cooper.</p>
  <table width="200" border="1">
    <tbody><tr>
      <td><img src="./6x09 Kit_files/test1.png" width="437" height="200"></td>
    </tr>
  </tbody></table>
  <p>With a genuine 6309 executing the program returns to the monitor, and the A register contains a value other than AA, usually 0. With a 6809 the program jumps into hyperspace, and results in a blank LED display, until Reset is pressed.<br>
    <br>
    16 May 2020, updated new monitor by Edilert Kirk with 20x4 LCD display for hex editor and user registers display, <a href="https://kswichit.net/6809/Edilbert/newmon1.zip"><strong>newmon1.zip </strong></a><br>
    <br>
    <img src="./6x09 Kit_files/DATA.jpg" width="402" height="179"> </p>
  <p>   <img src="./6x09 Kit_files/REG.jpg" width="524" height="200"><br>
    <br>
    11 May 2020, Modified version of new monitor by Thomas Winkler, remapped the ROM and I/O locations to make more ROM space, <strong> <a href="https://kswichit.net/6809/Thomas/03-30K.zip">03-30K.zip</a> </strong></p>
  <table width="323" border="1">
    <tbody><tr>
      <td width="119">0000 - 7FFF <br>
        8800 - FFFF <br>
        8000 - 87FF <br>
      8800 - 8FFF</td>
      <td width="188">system RAM (32 KB)<br>
system ROM (30 KB)<br>
IO (read write)<br>
IO (write only)</td>
    </tr>
  </tbody></table>
  <p>9 May, 2020 New design 6809's keypad sheet, designed by Hark0, Jordi Bayo', <strong><a href="https://kswichit.net/6809/Hark0/New_Keyboard_Layout_for_6809_MKit_WS_2020_001.cdr">Corel draw file</a>,<a href="https://kswichit.net/6809/Hark0/Hark0Sheet.svg"> Inscape 0.92 File</a></strong></p>
  <p><img src="./6x09 Kit_files/keypad.png" width="848" height="491"></p>
  <p>3 May, 2020 New monitor program written in 6809 assembly code with BS9 Assembler by Edilbert Kirk. Super fast s19 downloading <a href="https://kswichit.net/6809/Edilbert/newmon.pdf">source and listing (pdf files)</a>, <a href="https://kswichit.net/6809/Edilbert/newmonitor.zip">ROM files</a> <br>
    <br>
  23 April, 2020 updated monitor program, set user DP register to 0 when RESET, <a href="https://kswichit.net/6809/version3.zip">Source code, list file and hex file for 32kB EPROM. </a><br>
  <br>
  27 March, 2020 updated montior program,<span class="style6"> fixed Motorola s-record loading.</span> <a href="https://kswichit.net/6809/6809v2.zip">Source code</a>, <a href="https://kswichit.net/6809/m6809v2.hex">HEX file</a> ready for programming the 32kB EPROM. Thanks to Thomas Winkler for bug report.</p>
  <p>14 February, 2020 The 6809 kit has been tested with the Hitachi 63C09 microprocessor by Edilbert Kirk. Edilbert wrote his own Cross Assembler for 6309 CPU, <a href="https://www.google.com/url?q=https%3A%2F%2Fgithub.com%2FEdilbert%2FBS9&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNE3MyUyTw48oW0kCxuxzKGjDvfhNg" target="_blank" rel="noreferrer" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=https://www.google.com/url?q%3Dhttps%253A%252F%252Fgithub.com%252FEdilbert%252FBS9%26sa%3DD%26sntz%3D1%26usg%3DAFQjCNE3MyUyTw48oW0kCxuxzKGjDvfhNg&amp;source=gmail&amp;ust=1581757402320000&amp;usg=AFQjCNFNrb06Md2ZJCqUMo0ty35ZW7sKqQ" style="color: rgb(0, 0, 204);">https://github.com/Edilbert/<wbr>BS9</a></p>
  <p><img src="./6x09 Kit_files/6309_p1s.jpg" width="640" height="372"></p>
  <p><img src="./6x09 Kit_files/6309_p2s.jpg" width="640" height="480"> </p>
  <p>Updated <a href="https://kswichit.net/6809/(Ele)%206809%20Doc%20Asm%20RS%20v4-13.pdf">6809</a> book by Richard SOREK, v4.13 (in French, 238 pages)<br>
    <br>
    <a href="https://kswichit.net/6809/cover.pdf">6809 Assembly Programming</a> (in French, 247 pages) written by Richard SOREK<br>    
    Book is available on request by sending mail to 
    keros6809@gmail.com<br>
    <br>
    <a href="https://kswichit.net/6809/lucien/MICRO09KEY.stl">MICRO09KEY.stl</a> keyboard spacer 3D file for 6809 kit made by Lucien Gisclong, giscl@free.fr<br>
    <br>
    <img width="400" height="317" src="./6x09 Kit_files/spacer1.jpg"><img width="600" height="361" src="./6x09 Kit_files/spacer2.jpg"><br>
  </p>
  <hr>
  <p><b><span style="font-size: medium;"><a href="https://kswichit.net/">&lt;</a></span></b> </p></blockquote> <blockquote> 
  <div align="right"> 
    <p>Last updated, July, 2023<br>
      <span style="font-family: &#39;Times New Roman&#39;, Times, serif;">10 July,
    2017</span></p> 
  </div> <blockquote>&nbsp;</blockquote> </blockquote> 

</body></html>